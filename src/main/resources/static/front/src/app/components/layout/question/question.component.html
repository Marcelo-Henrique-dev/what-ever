<div class="container flex center direction-col">
    @if(questions.length > 0 && questions[questaoAtualIndex]; as question){
        <div class="questions-wraper flex">
            <div class="question-box flex direction-col center" id="{{questaoAtualIndex}}">
                <div class="question w100">
                    <div class="head-question flex justify-between align-center {{question.difficulty}}">
                        <div class="title">
                            Quest찾o {{questaoAtualIndex+1}}
                        </div>
                        <div class="title">
                            {{question.category}}
                        </div>
                    </div>
                    <div class="body-question">
                        <p>{{question.question}}</p>
                        <form>
                            @for(incorrect of question.incorrect_answers; track $index){
                                <div class="option">
                                    <input 
                                        type="radio" 
                                        name="resposta" 
                                        id="{{'q' + questaoAtualIndex + 'i' + $index}}" 
                                        value="{{incorrect}}"
                                        (change)="registerAnswer(questaoAtualIndex, incorrect)"
                                        [checked]="userAnswers[questaoAtualIndex] === incorrect"
                                    >
                                    <label for="{{'q' + questaoAtualIndex + 'i' + $index}}">{{incorrect}}</label>
                                </div>
                            }
                            <div class="option">
                                <input 
                                    type="radio" 
                                    name="resposta" 
                                    id="{{'q' + questaoAtualIndex + 'c'}}" 
                                    value="{{question.correct_answer}}"
                                    (change)="registerAnswer(questaoAtualIndex, question.correct_answer)"
                                    [checked]="userAnswers[questaoAtualIndex] === question.correct_answer"
                                >
                                <label for="{{'q' + questaoAtualIndex + 'c'}}">{{question.correct_answer}}</label>
                            </div>
                        </form>
                    </div>
                </div>
                
                @if(questaoAtualIndex === questions.length-1){
                    <button
                        class="nextButton"
                        (click)="avancarQuestao()"
                    >
                        Concluir
                    </button>
                }
                @else if(questaoAtualIndex > 0){
                    <div class="buttons-questions flex">
                        <button
                            class="nextButton"
                            (click)="voltarQuestao()"
                        >
                            Anterior
                        </button>
                        <button
                            class="nextButton"
                            (click)="avancarQuestao()"
                        >
                            Pr처xima
                        </button>
                    </div>
                }
                @else {
                    <button
                        class="nextButton"
                        (click)="avancarQuestao()"
                    >
                        Pr처xima
                    </button>
                }
            </div>
        </div>
    }
    @else if(questions.length > 0) {
        <p class="sem">Quiz finalizado. Clique em Concluir!</p>
    }
    @else {
        <p class="sem">Sem quest천es no momento!</p>
    }
</div>